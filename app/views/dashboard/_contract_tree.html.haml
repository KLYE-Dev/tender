.card.mb-3.shadow-sm
  %h5.card-header.bg-light 
    = link_to contract, transactions_path(contract: contract)
  .card-body.bg-white
    - transactions = latest_transactions.where(contract: contract).distinct.order(:action)
    %ul.list-group
      - transactions.pluck(:action).each do |contract_action|
        %li.list-group-item.d-flex.justify-content-between.align-items-center
          = link_to contract_action, transactions_path(contract: contract, contract_action: contract_action)
          .span.badge.badge-secondary.badge-pill= latest_transactions.where(contract: contract, action: contract_action).count
  .card-footer.bg-light
    %small.text-muted
      Since
      %time{data: {toggle: 'tooltip', placement: 'right'}, title: (timestamp = transactions.maximum(:created_at))}
        = timestamp
